# Быстрый старт

## Установка и запуск

1. **Создайте виртуальное окружение:**
```bash
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# или
venv\Scripts\activate  # Windows
```

2. **Установите зависимости:**
```bash
pip install -r requirements.txt
```

3. **Настройте переменные окружения:**
```bash
cp .env.example .env
# Отредактируйте .env при необходимости
```

4. **Подготовьте структуру каталогов:**
```
IN/
├── OD/    # 11-12 Excel файлов
├── RA/    # 11-12 Excel файлов
└── PS/    # 11-12 Excel файлов
```

5. **Запустите обработку:**
```bash
python src/main.py
```

6. **Результат будет сохранен в каталоге OUT:**
```
OUT/Сводные_данные_YYYYMMDD_HHMMSS.xlsx
```

## Настройка конфигурации

### Изменение настроек по умолчанию для группы

Отредактируйте файл `src/config.py`, метод `_create_default_configs()` класса `ConfigManager`.

### Добавление пофайловых настроек

В `src/main.py` или отдельном скрипте:

```python
from src.config import config_manager, FileConfig

# Создаем конфигурацию для конкретного файла
file_config = FileConfig(
    columns=["Табельный", "ТБ", "ФИО", "Показатель"],
    exclude_fields=["КМ"],
    required_fields=["Табельный", "ФИО"]
)

# Добавляем конфигурацию
config_manager.add_file_config("OD", "special_file.xlsx", file_config)
```

## Формат входных файлов

Каждый Excel файл должен содержать следующие колонки:
- **Табельный** - табельный номер сотрудника
- **ТБ** - территориальный банк
- **ГОСБ** - головной офис
- **КМ** - код менеджера (опционально)
- **ФИО** - фамилия, имя, отчество
- **Показатель** - числовое значение для суммирования

## Логирование

Логи сохраняются в каталоге `log/` с именованием:
- `INFO_processor_YYYYMMDD_HH.log` - логи уровня INFO
- `DEBUG_processor_YYYYMMDD_HH.log` - логи уровня DEBUG

Уровень логирования задается в `.env`:
```env
LOG_LEVEL=DEBUG  # или INFO
```

